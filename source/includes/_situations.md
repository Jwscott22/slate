# Situations

## addSigCorrelationInfo

A POST request that associates the external client with a specified Situation. This allows Moogsoft AIOps to filter Events and send only those of interest to an external system.

```shell
curl -X POST -u graze:graze -k -v "https://localhost/graze/v1/addSigCorrelationInfo" -H "Content-Type: application/json; charset=UTF-8" -d '{"sitn_id" : 3, "service_name" : "my service 7", "resource_id" : "my resource 7"}'
```
**Test it out:**

[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/a5bd1ed9834c3ed28cdb)

This endpoint returns an HTTP status code. See [HTTP Status Codes](#HTTP)

### Query Parameters

Parameter | Type | Description
--------- | ------- | -----------
auth_code | String | Valid auth_token returned from the authenticate request.
sitn_id | Number | Valid Situation ID, an internal identifier generated by AIOps.
service_name | String | Name of the external service.
resource_id | String | ID of the external service entity to associate with the Situation.

## addSituationCustomInfo

A POST request that adds custom information to a specified Situation. 

```shell
curl -X POST -u graze:graze -k -v "https://localhost/graze/v1/addSituationCustomInfo" -H "Content-Type: application/json; charset=UTF-8" -d '{"sitn_id" : 5, "custom_info" : { "field1" : "value1" , "field2" : "value2" , "field3" : ["item1","item2","item3"] , "field4" : {"field4-1" : "value4-1","field4-2" : "value4-2"} }}'
```
**Test it out:**

[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/a5bd1ed9834c3ed28cdb)

This endpoint returns an HTTP status code. See [HTTP Status Codes](#HTTP)

### Query Parameters

Parameter | Type | Description
--------- | ------- | -----------
auth_code | String | Valid auth_token returned from the authenticate request.
sitn_id | Number | Valid Situation ID, an internal identifier generated by AIOps.
custom_info | JSON | JSON Object containing the custom information.

## addThreadEntry

A POST request that adds a new entry such as a comment or story activity to an existing thread in a Situation.

```shell
curl -u graze:graze "https://localhost/graze/v1/addThreadEntry" -H "Content-Type: application/json; charset=UTF-8" --insecure -X POST -v --data '{"sitn_id" : "1", "thread_name" : "Support", "entry" : "my thread entry text"}'
```

**Test it out:**

[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/a5bd1ed9834c3ed28cdb)

This endpoint returns an HTTP status code. See [HTTP Status Codes](#HTTP)

### Query Parameters

Parameter | Type | Description
--------- | ------- | -----------
auth_code | String | Valid auth_token returned from the authenticate request.
sitn_id | Number | Valid Situation ID, an internal identifier generated by AIOps.
thread_name | String | Name of an existing thread.
entry | String | Entry to be added to the thread. 

## getActiveSituationIds

A GET request that returns the total number of active Situations and a list of their Situations IDs. 
Active Situations are all those that are not closed, resolved or dormant.

```shell
curl -u graze:graze "https://localhost/graze/v1/addThreadEntry" -H "Content-Type: application/json; charset=UTF-8" --insecure -X POST -v --data '{"sitn_id" : "1", "thread_name" : "Support", "entry" : "my thread entry text"}'
```

```shell
{
   "total_situations":10,
   "sitn_ids":[4, 5, 6, 12, 14, 15, 16, 17, 18, 19]
}
```

**Test it out:**

[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/a5bd1ed9834c3ed28cdb)

This endpoint returns an HTTP status code. See [HTTP Status Codes](#HTTP)

### Query Parameters

Parameter | Type | Description
--------- | ------- | -----------
total_situations | Integer | Total number of active Situations.
sitn_ids | List | List of active Situation IDs
