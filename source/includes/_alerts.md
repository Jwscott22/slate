# Alerts

## addAlertCustomInfo

A POST request to add and merge custom information for a specified alert.

```shell
curl -X POST -u graze:graze -k -v "https://<server>/v1/addAlertCustomInfo" -H "Content-Type: application/json; charset=UTF-8" -d '{"alert_id" : 9, "custom_info" : { "field1" : "value2" , "field2" : "value2" , "field3" : ["item1","item2","item3"] , "field4" : {"field4-1" : "value4-1","field4-2" : "value4-2"} }}'
```
**Test it out:**

[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/a5bd1ed9834c3ed28cdb)

This endpoint returns an HTTP status code. See [HTTP Status Codes](#status-codes)

### Query Parameters

Parameter | Type | Description
--------- | ------- | -----------
auth_code | String | Valid auth_token returned from the authenticate request.
alert_id | Number | Valid alert ID, an internal identifier generated by AIOps.
custom_info | JSON | A JSON Object containing the custom information.

## addAlertToSituation

A POST request that adds a specified alert to a specified Situation.

```shell
curl -X POST -u graze:graze -k -v "https://<server>/graze/v1/addAlertToSituation" -H "Content-Type: application/json; charset=UTF-8" -d '{"alert_id" : 16, "sitn_id" : 7 }'
```
**Test it out:**

[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/a5bd1ed9834c3ed28cdb)

This endpoint returns an HTTP status code. See [HTTP Status Codes](#status-codes)

### Query Parameters

Parameter | Type | Description
--------- | ------- | -----------
auth_code | String | Valid auth_token returned from the authenticate request.
alert_id | Number | Valid alert ID, an internal identifier generated by AIOps.
sitn_id | Number | Valid Situation ID, an internal identifier generated by AIOps.

## assignAndAcknowledgeAlert

A POST request that assigns and acknowledges the moderator tot he Alert for a specified alert ID and user ID.

```shell
curl -X POST -u graze:graze -k -v "https://<server>/graze/v1/assignAndAcknowledgeAlert" -H "Content-Type: application/json; charset=UTF-8" -d '{"alert_id" : 7, "username" : "user1" }'
```
**Test it out:**

[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/a5bd1ed9834c3ed28cdb)

This endpoint returns an HTTP status code. See [HTTP Status Codes](#status-codes)

### URL Parameters

Parameter | Description
--------- | -----------
auth_code | String | Valid auth_token returned from the authenticate request.
alert_id | Number | Valid alert ID, an internal identifier generated by AIOps.
user_id | Number | Valid user ID for a user account in AIOps
username | String | Valid username of a user account in AIOps.

## assignAlert

A POST request that assigns a specified user to an alert.

```shell
curl -X POST -u graze:graze -k -v "https://<server>/graze/v1/assignAlert" -H "Content-Type: application/json; charset=UTF-8" -d '{"alert_id" : 12, "username" : "user1" }'
```
**Test it out:**

[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/a5bd1ed9834c3ed28cdb)

This endpoint returns an HTTP status code. See [HTTP Status Codes](#status-codes)

### URL Parameters

Parameter | Description
--------- | -----------
auth_code | String | Valid auth_token returned from the authenticate request.
alert_id | Number | Valid alert ID, an internal identifier generated by AIOps.
user_id | Number | Valid user ID for a user account in AIOps
username | String | Valid username of a user account in AIOps.

## closeAlert

A POST request that closes a specified alert.

```shell
curl -X POST -u graze:graze -k -v "https://localhost/graze/v1/closeAlert" -H "Content-Type: application/json; charset=UTF-8" -d '{"alert_id" : 10}'
```
**Test it out:**

[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/a5bd1ed9834c3ed28cdb)

This endpoint returns an HTTP status code. See [HTTP Status Codes](#status-codes)

### URL Parameters

Parameter | Description
--------- | -----------
auth_code | String | Valid auth_token returned from the authenticate request.
alert_id | Number | Valid alert ID, an internal identifier generated by AIOps.

## deassignAlert

A POST request that de-assigns the user from the alert for a specified alert ID.

```shell
curl -X POST -u graze:graze -k -v "https://localhost/graze/v1/closeAlert" -H "Content-Type: application/json; charset=UTF-8" -d '{"alert_id" : 10}'
```
**Test it out:**

[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/a5bd1ed9834c3ed28cdb)

This endpoint returns an HTTP status code. See [HTTP Status Codes](#status-codes)

### URL Parameters

Parameter | Description
--------- | -----------
auth_code | String | Valid auth_token returned from the authenticate request.
alert_id | Number | Valid alert ID, an internal identifier generated by AIOps.

## getAlertDetails

A GET request that returns details of a specicifed alert.

```shell
curl -G -u graze:graze -k -v "https://localhost/graze/v1/getAlertDetails" --data-urlencode "alert_id=123"
```
**Test it out:**

[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/a5bd1ed9834c3ed28cdb)

This endpoint returns a JSON object: 

```json 
{
   "active_sitn_list":[1],
   "agent":"TestBed",
   "agent_location":"localhost",
   "alert_id":10,
   "class":"WebMon",
   "count":2,
   "custom_info":null,
   "description":"Web Server HTTPD is DOWN",
   "external_id":"12345",
   "first_event_time":1416307126,
   "int_last_event_time":1416307188,
   "last_event_time":1416307131,
   "last_state_change":1416307144,
   "manager":"WebMon",
   "owner":2, "severity":0,
   "signature":"SIG:Web Server Down Trap:xldn1458pap:10",
   "significance":3,
   "source":"xldn1458pap",
   "source_id":"xldn1458pap",
   "state":9,
   "type":"HTTPDDown"
}
```

### URL Parameters

Parameter | Description
--------- | -----------
auth_code | String | Valid auth_token returned from the authenticate request.
alert_id | Number | Valid alert ID, an internal identifier generated by AIOps.
